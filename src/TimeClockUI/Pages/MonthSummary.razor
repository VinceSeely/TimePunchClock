@page "/month-summary"
@using TimeClockUI.Models

<AuthorizeView>
    <Authorized>
        <MudText Typo="@Typo.h1">Month Summary:</MudText>
        <MudGrid>
            <MudItem xs="12" sm="6">
                <MudSelect T="int" Value="@_selectedYear"
                           ValueChanged="OnYearChanged"
                           Label="Year">
                    @foreach (var y in _years)
                    {
                        <MudSelectItem Value="@y">@y</MudSelectItem>
                    }
                </MudSelect>
            </MudItem>

            <MudItem xs="12" sm="6">
                <MudSelect T="int" Label="Month"
                           Value="@_selectedMonth"
                           ValueChanged="OnMonthChanged">
                    @foreach (var m in _months)
                    {
                        <MudSelectItem Value="@m.Month">@m.Name</MudSelectItem>
                    }
                </MudSelect>
            </MudItem>
        </MudGrid>
        <MudText Typo="Typo.subtitle2">
            Selected Range: @_startDate.ToShortDateString() - @_endDate.ToShortDateString()
        </MudText>
        <MudText Typo="@Typo.h3">Tech Lead Hours:</MudText>
        <MudText Typo="@Typo.body1">@_techLeadHoursTotal</MudText>
        <MudText Typo="@Typo.h3">Regular Hours:</MudText>
        <MudText Typo="@Typo.body1">@_regularHoursTotal</MudText>
        <MudText Typo="@Typo.h3">Total Hours:</MudText>
        <MudText Typo="@Typo.body1">@_combinedHoursTotal</MudText>
    </Authorized>
    <NotAuthorized>
        <MudCard Class="ma-4">
            <MudCardContent>
                <MudText Typo="@Typo.h4" Class="mb-4">Authentication Required</MudText>
                <MudText Typo="@Typo.body1" Class="mb-2">
                    Please log in to view your monthly summary.
                </MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="authentication/login">
                    Log In
                </MudButton>
            </MudCardActions>
        </MudCard>
    </NotAuthorized>
</AuthorizeView>